/* ===================================
   ONE-TIME 3D DASHBOARD BOOK INTRO
   Compress → Rotate → Release → Scatter → Expand → Settle
   =================================== */

/* Full-screen overlay for intro */
.dashboard-3d-intro-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: #0f172a;
    z-index: 9999;
    perspective: 1500px;
    perspective-origin: center center;
    display: flex;
    align-items: center;
    justify-content: center;
    pointer-events: none;
}

/* ===================================
   INITIAL STATE - COMPRESSED BOOK
   =================================== */

.intro-compressed-book {
    position: absolute;
    width: 400px;
    height: 500px;
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
    border: 3px solid #10b981;
    border-radius: 20px;
    box-shadow: 0 40px 100px rgba(0, 0, 0, 0.8);
    transform-style: preserve-3d;

    /* INITIAL COMPRESSED STATE */
    transform:
        perspective(1500px) scale(0.2) translateZ(-200px) rotateX(15deg) rotateY(-15deg);

    /* PHASE 1: Book Rotation (0-2s) */
    animation: book3DRotate 2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

@keyframes book3DRotate {
    0% {
        opacity: 0;
        transform:
            perspective(1500px) scale(0.2) translateZ(-200px) rotateX(15deg) rotateY(-15deg);
    }

    20% {
        opacity: 1;
    }

    100% {
        opacity: 1;
        transform:
            perspective(1500px) scale(0.25) translateZ(-150px) rotateX(25deg) rotateY(-20deg);
    }
}

/* ===================================
   DASHBOARD SECTIONS (PAGES)
   Initially stacked at center
   =================================== */

.intro-dashboard-section {
    position: fixed;
    top: 50%;
    left: 50%;
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
    border: 1px solid #334155;
    border-radius: 16px;
    padding: 2rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    transform-style: preserve-3d;
    opacity: 0;

    /* Start compressed at center */
    transform:
        translate(-50%, -50%) perspective(1500px) scale(0.15) translateZ(-200px) rotateX(0deg) rotateY(0deg);
}

/* ===================================
   PHASE 2 & 3: RELEASE → SCATTER
   Each section has unique path
   =================================== */

/* Section 1: Welcome/Header - Top */
.intro-section-1 {
    width: 300px;
    height: 120px;
    animation: section3DScatter 4s 2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    --final-x: 0vw;
    --final-y: -30vh;
    --final-z: 40px;
    --rotate-x: -12deg;
    --rotate-y: 0deg;
    --final-scale: 0.9;
}

/* Section 2: User Cards - Upper Left */
.intro-section-2 {
    width: 280px;
    height: 180px;
    animation: section3DScatter 4s 2.1s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    --final-x: -25vw;
    --final-y: -12vh;
    --final-z: 30px;
    --rotate-x: -8deg;
    --rotate-y: -15deg;
    --final-scale: 0.85;
}

/* Section 3: Stats - Upper Right */
.intro-section-3 {
    width: 280px;
    height: 180px;
    animation: section3DScatter 4s 2.2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    --final-x: 25vw;
    --final-y: -12vh;
    --final-z: 25px;
    --rotate-x: -8deg;
    --rotate-y: 15deg;
    --final-scale: 0.85;
}

/* Section 4: Charts - Lower Left */
.intro-section-4 {
    width: 300px;
    height: 200px;
    animation: section3DScatter 4s 2.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    --final-x: -22vw;
    --final-y: 15vh;
    --final-z: 20px;
    --rotate-x: 8deg;
    --rotate-y: -12deg;
    --final-scale: 0.8;
}

/* Section 5: Activity - Lower Right */
.intro-section-5 {
    width: 300px;
    height: 200px;
    animation: section3DScatter 4s 2.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    --final-x: 22vw;
    --final-y: 15vh;
    --final-z: 15px;
    --rotate-x: 8deg;
    --rotate-y: 12deg;
    --final-scale: 0.8;
}

/* Section 6: Bottom Nav - Bottom */
.intro-section-6 {
    width: 320px;
    height: 80px;
    animation: section3DScatter 4s 2.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    --final-x: 0vw;
    --final-y: 32vh;
    --final-z: 10px;
    --rotate-x: 10deg;
    --rotate-y: 0deg;
    --final-scale: 0.75;
}

/* Combined Release + Scatter Animation */
@keyframes section3DScatter {

    /* PHASE 2: Release (0-25%) */
    0% {
        opacity: 0;
        transform:
            translate(-50%, -50%) perspective(1500px) scale(0.15) translateZ(-200px) rotateX(0deg) rotateY(0deg);
    }

    10% {
        opacity: 1;
        transform:
            translate(-50%, -50%) perspective(1500px) scale(0.2) translateZ(-150px) rotateX(0deg) rotateY(0deg);
    }

    25% {
        opacity: 1;
        transform:
            translate(-50%, -50%) perspective(1500px) scale(0.3) translateZ(-100px) rotateX(0deg) rotateY(0deg);
    }

    /* PHASE 3: Scatter (25-70%) */
    70% {
        opacity: 1;
        transform:
            translate(calc(-50% + var(--final-x)), calc(-50% + var(--final-y))) perspective(1500px) scale(var(--final-scale)) translateZ(var(--final-z)) rotateX(var(--rotate-x)) rotateY(var(--rotate-y));
    }

    /* Fade out (70-100%) */
    100% {
        opacity: 0;
        transform:
            translate(calc(-50% + var(--final-x)), calc(-50% + var(--final-y))) perspective(1500px) scale(var(--final-scale)) translateZ(var(--final-z)) rotateX(var(--rotate-x)) rotateY(var(--rotate-y));
    }
}

/* Book fades out during scatter */
.intro-compressed-book {
    animation:
        book3DRotate 2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards,
        book3DFadeOut 1.5s 4.5s ease-out forwards;
}

@keyframes book3DFadeOut {
    0% {
        opacity: 1;
        transform:
            perspective(1500px) scale(0.25) translateZ(-150px) rotateX(25deg) rotateY(-20deg);
    }

    100% {
        opacity: 0;
        transform:
            perspective(1500px) scale(0.15) translateZ(-250px) rotateX(30deg) rotateY(-25deg);
    }
}

/* ===================================
   PHASE 4: DASHBOARD EXPAND & SETTLE
   =================================== */

.dashboard-3d-expand-settle {
    /* Start compressed */
    transform:
        perspective(1500px) scale(0.7) translateZ(-100px) rotateX(12deg);
    opacity: 0;
    transform-style: preserve-3d;

    /* PHASE 4: Expand & Settle (starts at 5.5s) */
    animation: dashboard3DExpandSettle 1.5s 5.5s cubic-bezier(0.23, 1, 0.32, 1) forwards;
}

@keyframes dashboard3DExpandSettle {
    0% {
        opacity: 0;
        transform:
            perspective(1500px) scale(0.7) translateZ(-100px) rotateX(12deg);
    }

    100% {
        opacity: 1;
        transform:
            perspective(1500px) scale(1) translateZ(0) rotateX(0deg);
    }
}

/* Overlay fade out */
.dashboard-3d-intro-overlay {
    animation: overlay3DFadeOut 0.8s 6.5s ease-out forwards;
}

@keyframes overlay3DFadeOut {
    0% {
        opacity: 1;
        pointer-events: none;
    }

    100% {
        opacity: 0;
        pointer-events: none;
        visibility: hidden;
    }
}

/* ===================================
   SECTION ICONS/CONTENT
   =================================== */

.intro-section-icon {
    width: 60px;
    height: 60px;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
    transform-style: preserve-3d;
}

.intro-section-label {
    text-align: center;
    margin-top: 1rem;
    font-size: 0.875rem;
    color: #94a3b8;
    transform-style: preserve-3d;
}