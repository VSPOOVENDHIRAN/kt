{"ast":null,"code":"var _jsxFileName = \"E:\\\\kalanjiyam_demo\\\\frontend\\\\src\\\\pages\\\\trade.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { io } from \"socket.io-client\";\nimport { ArrowRightIcon, ClockIcon, UserIcon } from \"@heroicons/react/24/outline\";\nimport NavigationBar from \"../components/navbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = \"http://localhost:500\"; // change if needed\nconst socket = io(API);\nexport default function Trade() {\n  _s();\n  const user_id = localStorage.getItem(\"user_id\");\n  const token = localStorage.getItem(\"token\");\n  const authHeader = () => ({\n    Authorization: `Bearer ${token}`\n  });\n  const [myOffers, setMyOffers] = useState([]);\n  const [marketOffers, setMarketOffers] = useState([]);\n  const [units, setUnits] = useState(\"\");\n  const [rate, setRate] = useState(\"\");\n  const [offerType, setOfferType] = useState(\"sell\");\n  useEffect(() => {\n    fetchOffers();\n    socket.on(\"offersUpdated\", fetchOffers);\n    return () => socket.off(\"offersUpdated\");\n  }, []);\n  const fetchOffers = async () => {\n    try {\n      const res = await axios.get(`${API}/api/offers/all`, {\n        headers: authHeader()\n      });\n      const all = res.data.data || [];\n      setMyOffers(all.filter(o => o.creator_id === user_id));\n      setMarketOffers(all.filter(o => o.creator_id !== user_id));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const createOffer = async () => {\n    if (!units || !rate) return alert(\"Enter all fields\");\n    try {\n      await axios.post(`${API}/api/offers/create`, {\n        offer_type: offerType,\n        units,\n        token_per_unit: rate\n      }, {\n        headers: authHeader()\n      });\n      setUnits(\"\");\n      setRate(\"\");\n      socket.emit(\"offersUpdated\");\n      fetchOffers();\n    } catch (err) {\n      console.error(err);\n      alert(\"Failed to create offer\");\n    }\n  };\n  const cancelOffer = async offer_id => {\n    try {\n      await axios.post(`${API}/api/offers/cancel`, {\n        offer_id\n      }, {\n        headers: authHeader()\n      });\n      socket.emit(\"offersUpdated\");\n      fetchOffers();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const acceptNegotiation = async offer_id => {\n    try {\n      await axios.post(`${API}/api/offers/accept-negotiation`, {\n        offer_id\n      }, {\n        headers: authHeader()\n      });\n      socket.emit(\"offersUpdated\");\n      fetchOffers();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  const rejectNegotiation = async offer_id => {\n    try {\n      await axios.post(`${API}/api/offers/reject-negotiation`, {\n        offer_id\n      }, {\n        headers: authHeader()\n      });\n      socket.emit(\"offersUpdated\");\n      fetchOffers();\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-slate-950 text-white pb-20\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center text-2xl font-extrabold py-4 text-emerald-400\",\n      children: \"Energy Trade\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-4 p-5 bg-slate-800/60 rounded-xl shadow-lg border border-emerald-500/40\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-bold text-lg mb-3\",\n        children: \"Create New Offer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-3 mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setOfferType(\"sell\"),\n          className: `flex-1 py-2 rounded-lg font-bold ${offerType === \"sell\" ? \"bg-blue-600\" : \"bg-slate-700 hover:bg-slate-600\"}`,\n          children: \"Sell\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setOfferType(\"buy\"),\n          className: `flex-1 py-2 rounded-lg font-bold ${offerType === \"buy\" ? \"bg-red-600\" : \"bg-slate-700 hover:bg-slate-600\"}`,\n          children: \"Buy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: units,\n        onChange: e => setUnits(e.target.value),\n        placeholder: \"Units (kWh)\",\n        className: \"w-full p-2 rounded-lg bg-slate-900 border border-gray-700 mb-2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: rate,\n        onChange: e => setRate(e.target.value),\n        placeholder: \"Rate (Tokens per unit)\",\n        className: \"w-full p-2 rounded-lg bg-slate-900 border border-gray-700 mb-3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: createOffer,\n        className: \"w-full py-3 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-xl\",\n        children: \"Create Offer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"mx-4 mt-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold mb-2 text-yellow-300\",\n        children: \"My Offers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: myOffers.map(offer => /*#__PURE__*/_jsxDEV(OfferCard, {\n          offer: offer,\n          isMyOffer: true,\n          cancelOffer: cancelOffer,\n          acceptNegotiation: acceptNegotiation,\n          rejectNegotiation: rejectNegotiation\n        }, offer.offer_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"mx-4 mt-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold mb-2 text-blue-300\",\n        children: \"Market Offers\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: marketOffers.map(offer => /*#__PURE__*/_jsxDEV(OfferCard, {\n          offer: offer,\n          isMyOffer: false,\n          acceptNegotiation: acceptNegotiation,\n          rejectNegotiation: rejectNegotiation\n        }, offer.offer_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NavigationBar, {\n      active: \"Trade\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n\n/* OFFER CARD COMPONENT ------------------- */\n_s(Trade, \"9L5Su/t2+Cnv7qjoXCQU69EDOzg=\");\n_c = Trade;\nconst OfferCard = ({\n  offer,\n  isMyOffer,\n  cancelOffer,\n  acceptNegotiation,\n  rejectNegotiation\n}) => {\n  const user_id = localStorage.getItem(\"user_id\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `p-5 rounded-xl shadow-xl ${offer.offer_type === \"sell\" ? \"bg-blue-800/70 border-l-4 border-blue-300\" : \"bg-red-800/70 border-l-4 border-red-300\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-extrabold text-lg flex items-center gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(ArrowRightIcon, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), offer.offer_type.toUpperCase()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: `px-3 py-1 text-xs font-bold rounded-full ${offer.status === \"open\" ? \"bg-green-600\" : offer.status === \"negotiated\" ? \"bg-yellow-500\" : \"bg-gray-600\"}`,\n        children: offer.status.toUpperCase()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Units:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), \" \", offer.units, \" kWh\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: \"Rate:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }, this), \" \", offer.token_per_unit, \" Tokens/unit\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"pt-2 text-yellow-300 font-bold\",\n      children: [\"Total: \", offer.total_tokens, \" Tokens\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"flex items-center gap-1 text-xs mt-2\",\n      children: [/*#__PURE__*/_jsxDEV(UserIcon, {\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this), \"Creator: \", offer.creator_id]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"flex items-center gap-1 text-xs\",\n      children: [/*#__PURE__*/_jsxDEV(ClockIcon, {\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), new Date(offer.created_at).toLocaleString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), isMyOffer && offer.status === \"open\" && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => cancelOffer(offer.offer_id),\n      className: \"w-full mt-4 bg-red-500 hover:bg-red-600 text-white font-bold py-2 rounded-lg\",\n      children: \"Cancel Offer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 9\n    }, this), offer.status === \"negotiated\" && offer.negotiated_by === user_id && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex gap-3 mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => acceptNegotiation(offer.offer_id),\n        className: \"flex-1 bg-green-500 hover:bg-green-600 text-white font-bold py-2 rounded-lg\",\n        children: \"Accept\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => rejectNegotiation(offer.offer_id),\n        className: \"flex-1 bg-red-500 hover:bg-red-600 text-white font-bold py-2 rounded-lg\",\n        children: \"Reject\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 5\n  }, this);\n};\n_c2 = OfferCard;\nvar _c, _c2;\n$RefreshReg$(_c, \"Trade\");\n$RefreshReg$(_c2, \"OfferCard\");","map":{"version":3,"names":["React","useEffect","useState","axios","io","ArrowRightIcon","ClockIcon","UserIcon","NavigationBar","jsxDEV","_jsxDEV","API","socket","Trade","_s","user_id","localStorage","getItem","token","authHeader","Authorization","myOffers","setMyOffers","marketOffers","setMarketOffers","units","setUnits","rate","setRate","offerType","setOfferType","fetchOffers","on","off","res","get","headers","all","data","filter","o","creator_id","err","console","error","createOffer","alert","post","offer_type","token_per_unit","emit","cancelOffer","offer_id","acceptNegotiation","rejectNegotiation","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","value","onChange","e","target","placeholder","map","offer","OfferCard","isMyOffer","active","_c","toUpperCase","status","total_tokens","Date","created_at","toLocaleString","negotiated_by","_c2","$RefreshReg$"],"sources":["E:/kalanjiyam_demo/frontend/src/pages/trade.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { io } from \"socket.io-client\";\r\nimport {\r\n  ArrowRightIcon,\r\n  ClockIcon,\r\n  UserIcon,\r\n} from \"@heroicons/react/24/outline\";\r\n\r\nimport NavigationBar from \"../components/navbar\";\r\n\r\nconst API = \"http://localhost:500\"; // change if needed\r\nconst socket = io(API);\r\n\r\nexport default function Trade() {\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  const authHeader = () => ({\r\n    Authorization: `Bearer ${token}`,\r\n  });\r\n\r\n  const [myOffers, setMyOffers] = useState([]);\r\n  const [marketOffers, setMarketOffers] = useState([]);\r\n  const [units, setUnits] = useState(\"\");\r\n  const [rate, setRate] = useState(\"\");\r\n  const [offerType, setOfferType] = useState(\"sell\");\r\n\r\n  useEffect(() => {\r\n    fetchOffers();\r\n    socket.on(\"offersUpdated\", fetchOffers);\r\n    return () => socket.off(\"offersUpdated\");\r\n  }, []);\r\n\r\n  const fetchOffers = async () => {\r\n    try {\r\n      const res = await axios.get(`${API}/api/offers/all`, {\r\n        headers: authHeader(),\r\n      });\r\n\r\n      const all = res.data.data || [];\r\n\r\n      setMyOffers(all.filter((o) => o.creator_id === user_id));\r\n      setMarketOffers(all.filter((o) => o.creator_id !== user_id));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const createOffer = async () => {\r\n    if (!units || !rate) return alert(\"Enter all fields\");\r\n\r\n    try {\r\n      await axios.post(\r\n        `${API}/api/offers/create`,\r\n        {\r\n          offer_type: offerType,\r\n          units,\r\n          token_per_unit: rate,\r\n        },\r\n        { headers: authHeader() }\r\n      );\r\n\r\n      setUnits(\"\");\r\n      setRate(\"\");\r\n\r\n      socket.emit(\"offersUpdated\");\r\n      fetchOffers();\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Failed to create offer\");\r\n    }\r\n  };\r\n\r\n  const cancelOffer = async (offer_id) => {\r\n    try {\r\n      await axios.post(\r\n        `${API}/api/offers/cancel`,\r\n        { offer_id },\r\n        { headers: authHeader() }\r\n      );\r\n\r\n      socket.emit(\"offersUpdated\");\r\n      fetchOffers();\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const acceptNegotiation = async (offer_id) => {\r\n    try {\r\n      await axios.post(\r\n        `${API}/api/offers/accept-negotiation`,\r\n        { offer_id },\r\n        { headers: authHeader() }\r\n      );\r\n\r\n      socket.emit(\"offersUpdated\");\r\n      fetchOffers();\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const rejectNegotiation = async (offer_id) => {\r\n    try {\r\n      await axios.post(\r\n        `${API}/api/offers/reject-negotiation`,\r\n        { offer_id },\r\n        { headers: authHeader() }\r\n      );\r\n\r\n      socket.emit(\"offersUpdated\");\r\n      fetchOffers();\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-950 text-white pb-20\">\r\n      <h1 className=\"text-center text-2xl font-extrabold py-4 text-emerald-400\">\r\n        Energy Trade\r\n      </h1>\r\n\r\n      {/* CREATE OFFER */}\r\n      <div className=\"mx-4 p-5 bg-slate-800/60 rounded-xl shadow-lg border border-emerald-500/40\">\r\n        <h2 className=\"font-bold text-lg mb-3\">Create New Offer</h2>\r\n\r\n        <div className=\"flex gap-3 mb-3\">\r\n          <button\r\n            onClick={() => setOfferType(\"sell\")}\r\n            className={`flex-1 py-2 rounded-lg font-bold ${\r\n              offerType === \"sell\"\r\n                ? \"bg-blue-600\"\r\n                : \"bg-slate-700 hover:bg-slate-600\"\r\n            }`}\r\n          >\r\n            Sell\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setOfferType(\"buy\")}\r\n            className={`flex-1 py-2 rounded-lg font-bold ${\r\n              offerType === \"buy\"\r\n                ? \"bg-red-600\"\r\n                : \"bg-slate-700 hover:bg-slate-600\"\r\n            }`}\r\n          >\r\n            Buy\r\n          </button>\r\n        </div>\r\n\r\n        <input\r\n          type=\"number\"\r\n          value={units}\r\n          onChange={(e) => setUnits(e.target.value)}\r\n          placeholder=\"Units (kWh)\"\r\n          className=\"w-full p-2 rounded-lg bg-slate-900 border border-gray-700 mb-2\"\r\n        />\r\n\r\n        <input\r\n          type=\"number\"\r\n          value={rate}\r\n          onChange={(e) => setRate(e.target.value)}\r\n          placeholder=\"Rate (Tokens per unit)\"\r\n          className=\"w-full p-2 rounded-lg bg-slate-900 border border-gray-700 mb-3\"\r\n        />\r\n\r\n        <button\r\n          onClick={createOffer}\r\n          className=\"w-full py-3 bg-emerald-500 hover:bg-emerald-600 text-white font-bold rounded-xl\"\r\n        >\r\n          Create Offer\r\n        </button>\r\n      </div>\r\n\r\n      {/* MY OFFERS */}\r\n      <section className=\"mx-4 mt-6\">\r\n        <h2 className=\"text-xl font-bold mb-2 text-yellow-300\">My Offers</h2>\r\n\r\n        <div className=\"space-y-4\">\r\n          {myOffers.map((offer) => (\r\n            <OfferCard\r\n              key={offer.offer_id}\r\n              offer={offer}\r\n              isMyOffer={true}\r\n              cancelOffer={cancelOffer}\r\n              acceptNegotiation={acceptNegotiation}\r\n              rejectNegotiation={rejectNegotiation}\r\n            />\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      {/* MARKET OFFERS */}\r\n      <section className=\"mx-4 mt-8\">\r\n        <h2 className=\"text-xl font-bold mb-2 text-blue-300\">Market Offers</h2>\r\n\r\n        <div className=\"space-y-4\">\r\n          {marketOffers.map((offer) => (\r\n            <OfferCard\r\n              key={offer.offer_id}\r\n              offer={offer}\r\n              isMyOffer={false}\r\n              acceptNegotiation={acceptNegotiation}\r\n              rejectNegotiation={rejectNegotiation}\r\n            />\r\n          ))}\r\n        </div>\r\n      </section>\r\n\r\n      <NavigationBar active=\"Trade\" />\r\n    </div>\r\n  );\r\n}\r\n\r\n/* OFFER CARD COMPONENT ------------------- */\r\n\r\nconst OfferCard = ({\r\n  offer,\r\n  isMyOffer,\r\n  cancelOffer,\r\n  acceptNegotiation,\r\n  rejectNegotiation,\r\n}) => {\r\n  const user_id = localStorage.getItem(\"user_id\");\r\n\r\n  return (\r\n    <div\r\n      className={`p-5 rounded-xl shadow-xl ${\r\n        offer.offer_type === \"sell\"\r\n          ? \"bg-blue-800/70 border-l-4 border-blue-300\"\r\n          : \"bg-red-800/70 border-l-4 border-red-300\"\r\n      }`}\r\n    >\r\n      <div className=\"flex justify-between items-center mb-2\">\r\n        <h3 className=\"font-extrabold text-lg flex items-center gap-1\">\r\n          <ArrowRightIcon className=\"w-5 h-5\" />\r\n          {offer.offer_type.toUpperCase()}\r\n        </h3>\r\n\r\n        <span\r\n          className={`px-3 py-1 text-xs font-bold rounded-full ${\r\n            offer.status === \"open\"\r\n              ? \"bg-green-600\"\r\n              : offer.status === \"negotiated\"\r\n              ? \"bg-yellow-500\"\r\n              : \"bg-gray-600\"\r\n          }`}\r\n        >\r\n          {offer.status.toUpperCase()}\r\n        </span>\r\n      </div>\r\n\r\n      <p>\r\n        <b>Units:</b> {offer.units} kWh\r\n      </p>\r\n      <p>\r\n        <b>Rate:</b> {offer.token_per_unit} Tokens/unit\r\n      </p>\r\n      <p className=\"pt-2 text-yellow-300 font-bold\">\r\n        Total: {offer.total_tokens} Tokens\r\n      </p>\r\n\r\n      <p className=\"flex items-center gap-1 text-xs mt-2\">\r\n        <UserIcon className=\"w-4 h-4\" />\r\n        Creator: {offer.creator_id}\r\n      </p>\r\n\r\n      <p className=\"flex items-center gap-1 text-xs\">\r\n        <ClockIcon className=\"w-4 h-4\" />\r\n        {new Date(offer.created_at).toLocaleString()}\r\n      </p>\r\n\r\n      {/* BUTTONS ------------------------------------- */}\r\n\r\n      {/* CANCEL OFFER (ONLY MY OPEN OFFERS) */}\r\n      {isMyOffer && offer.status === \"open\" && (\r\n        <button\r\n          onClick={() => cancelOffer(offer.offer_id)}\r\n          className=\"w-full mt-4 bg-red-500 hover:bg-red-600 text-white font-bold py-2 rounded-lg\"\r\n        >\r\n          Cancel Offer\r\n        </button>\r\n      )}\r\n\r\n      {/* NEGOTIATION BUTTONS */}\r\n      {offer.status === \"negotiated\" &&\r\n        offer.negotiated_by === user_id && (\r\n          <div className=\"flex gap-3 mt-4\">\r\n            <button\r\n              onClick={() => acceptNegotiation(offer.offer_id)}\r\n              className=\"flex-1 bg-green-500 hover:bg-green-600 text-white font-bold py-2 rounded-lg\"\r\n            >\r\n              Accept\r\n            </button>\r\n\r\n            <button\r\n              onClick={() => rejectNegotiation(offer.offer_id)}\r\n              className=\"flex-1 bg-red-500 hover:bg-red-600 text-white font-bold py-2 rounded-lg\"\r\n            >\r\n              Reject\r\n            </button>\r\n          </div>\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}